@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Typography - Apple uses SF Pro, we use Inter as closest alternative */
    --font-sf-pro: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;

    /* Apple-Inspired Color Palette - Light Mode */
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;

    /* Subtle Surface Colors */
    --surface: 0 0% 100%;
    --surface-elevated: 0 0% 100%;
    --surface-overlay: 0 0% 100% / 0.8;

    /* Card Colors */
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;

    /* Popover */
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;

    /* Primary - Apple Blue */
    --primary: 221 83% 53%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Light Gray */
    --secondary: 240 5% 96%;
    --secondary-foreground: 240 10% 3.9%;

    /* Muted */
    --muted: 240 5% 96%;
    --muted-foreground: 240 4% 46%;

    /* Accent */
    --accent: 240 5% 96%;
    --accent-foreground: 240 10% 3.9%;

    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Border & Input - Subtle borders */
    --border: 240 6% 90%;
    --input: 240 6% 90%;
    --ring: 221 83% 53%;

    /* Radius - Apple uses slightly larger rounded corners */
    --radius: 0.5rem;

    /* Stance Colors - Refined for Apple aesthetic */
    --pro: 217 91% 60%;
    --pro-light: 217 91% 97%;
    --pro-dark: 217 91% 50%;

    --con: 0 72% 51%;
    --con-light: 0 72% 97%;
    --con-dark: 0 72% 45%;

    --audience: 270 83% 60%;
    --audience-light: 270 83% 97%;
    --audience-dark: 270 83% 50%;
  }

  .dark {
    /* Apple Dark Mode - Refined */
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;

    /* Surface Colors */
    --surface: 240 10% 5%;
    --surface-elevated: 240 10% 7%;
    --surface-overlay: 0 0% 0% / 0.8;

    /* Card Colors */
    --card: 240 10% 5%;
    --card-foreground: 0 0% 98%;

    /* Popover */
    --popover: 240 10% 7%;
    --popover-foreground: 0 0% 98%;

    /* Primary - Enhanced for dark mode */
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;

    /* Secondary */
    --secondary: 240 4% 15%;
    --secondary-foreground: 0 0% 98%;

    /* Muted */
    --muted: 240 4% 15%;
    --muted-foreground: 240 5% 64%;

    /* Accent */
    --accent: 240 4% 15%;
    --accent-foreground: 0 0% 98%;

    /* Destructive */
    --destructive: 0 63% 31%;
    --destructive-foreground: 0 0% 98%;

    /* Border & Input */
    --border: 240 4% 20%;
    --input: 240 4% 18%;
    --ring: 217 91% 60%;

    /* Stance Colors - Dark Mode */
    --pro: 217 91% 65%;
    --pro-light: 217 91% 15%;
    --pro-dark: 217 91% 55%;

    --con: 0 72% 55%;
    --con-light: 0 72% 15%;
    --con-dark: 0 72% 48%;

    --audience: 270 83% 65%;
    --audience-light: 270 83% 15%;
    --audience-dark: 270 83% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply scroll-smooth;
    font-feature-settings: "cv11", "ss01";
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-weight: 400;
    letter-spacing: -0.01em;
    line-height: 1.6;
  }

  /* Selection - Apple blue with high transparency */
  ::selection {
    background-color: rgba(0, 122, 255, 0.2);
  }

  /* Focus visible - Subtle, refined */
  :focus-visible {
    @apply outline-none ring-2 ring-primary/40 ring-offset-2 ring-offset-background;
  }
}

@layer components {
  /* Apple Glass Effect - More refined */
  .glass-card {
    @apply relative bg-white/70 dark:bg-black/40 backdrop-blur-2xl border border-black/5 dark:border-white/10;
  }

  /* Apple Glass - Elevated */
  .glass-card-elevated {
    @apply relative bg-white/80 dark:bg-black/50 backdrop-blur-2xl border border-black/5 dark:border-white/10;
  }

  /* Gradient Text - Subtle */
  .gradient-text {
    @apply bg-gradient-to-r from-primary to-pro bg-clip-text text-transparent;
  }

  /* Smooth Transitions - Apple easing */
  .transition-apple {
    transition-property: all;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Hover Effect - Subtle lift */
  .hover-lift {
    transition-property: transform, box-shadow;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hover-lift:hover {
    transform: translateY(-1px);
  }

  /* Button Base - Apple style */
  .btn-base {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg font-medium transition-apple cursor-pointer focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50;
  }

  /* Button Primary */
  .btn-primary {
    @apply btn-base bg-primary text-primary-foreground hover:bg-primary/90;
  }

  /* Button Secondary */
  .btn-secondary {
    @apply btn-base bg-secondary text-secondary-foreground hover:bg-secondary/70;
  }

  /* Button Ghost */
  .btn-ghost {
    @apply btn-base bg-transparent hover:bg-secondary;
  }

  /* Input Base - Apple style */
  .input-base {
    @apply flex h-11 w-full rounded-lg border border-border bg-transparent px-4 py-2 text-sm transition-apple placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Card Base - Apple style */
  .card-base {
    @apply rounded-xl border border-border bg-card p-6;
  }

  /* Badge Base - Apple style */
  .badge-base {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium transition-apple;
  }
}

@layer utilities {
  /* Text Balance */
  .text-balance {
    text-wrap: balance;
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Custom Scrollbar - Apple style */
  .custom-scrollbar::-webkit-scrollbar {
    @apply w-1.5;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-border rounded-full hover:bg-muted-foreground/30;
  }

  /* Glass Morphism - Refined */
  .glass {
    background: hsl(var(--surface-overlay));
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }

  .glass-strong {
    background: hsl(var(--surface-overlay));
    backdrop-filter: blur(40px) saturate(200%);
    -webkit-backdrop-filter: blur(40px) saturate(200%);
  }
}

/* Animation Keyframes - Refined */
@keyframes particle-float {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) translateX(50px) scale(0.5);
    opacity: 0;
  }
}

/* Tech Particle Background */
.tech-particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

.tech-particles::before,
.tech-particles::after {
  content: '';
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: hsl(var(--primary) / 0.3);
  animation: particle-rise 20s linear infinite;
}

.tech-particles::before {
  left: 10%;
  animation-delay: 0s;
}

.tech-particles::after {
  left: 30%;
  animation-delay: 5s;
}

/* Additional particles using box-shadow for performance */
.tech-particles .particle-1 {
  position: absolute;
  width: 1px;
  height: 1px;
  background: hsl(var(--pro) / 0.2);
  border-radius: 50%;
  animation: particle-rise 25s linear infinite;
  animation-delay: 2s;
  left: 20%;
  box-shadow:
    0 0 6px 3px hsl(var(--pro) / 0.1),
    100px 200px 0 0 hsl(var(--pro) / 0.15),
    300px 100px 0 0 hsl(var(--primary) / 0.1);
}

.tech-particles .particle-2 {
  position: absolute;
  width: 2px;
  height: 2px;
  background: hsl(var(--audience) / 0.2);
  border-radius: 50%;
  animation: particle-rise 30s linear infinite;
  animation-delay: 8s;
  left: 50%;
  box-shadow:
    0 0 8px 4px hsl(var(--audience) / 0.08),
    150px 150px 0 0 hsl(var(--primary) / 0.12),
    350px 250px 0 0 hsl(var(--pro) / 0.1);
}

.tech-particles .particle-3 {
  position: absolute;
  width: 1px;
  height: 1px;
  background: hsl(var(--primary) / 0.25);
  border-radius: 50%;
  animation: particle-rise 22s linear infinite;
  animation-delay: 12s;
  left: 70%;
  box-shadow:
    0 0 4px 2px hsl(var(--primary) / 0.1),
    200px 300px 0 0 hsl(var(--audience) / 0.1),
    400px 150px 0 0 hsl(var(--pro) / 0.08);
}

.tech-particles .particle-4 {
  position: absolute;
  width: 1px;
  height: 1px;
  background: hsl(var(--con) / 0.2);
  border-radius: 50%;
  animation: particle-rise 28s linear infinite;
  animation-delay: 4s;
  left: 85%;
  box-shadow:
    0 0 5px 2px hsl(var(--con) / 0.1),
    120px 180px 0 0 hsl(var(--primary) / 0.1),
    280px 320px 0 0 hsl(var(--audience) / 0.1);
}

@keyframes particle-rise {
  0% {
    transform: translateY(100vh) scale(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(-100vh) scale(1);
    opacity: 0;
  }
}

/* Subtle grid pattern for tech feel */
.tech-grid {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  background-image:
    linear-gradient(hsl(var(--border) / 0.03) 1px, transparent 1px),
    linear-gradient(90deg, hsl(var(--border) / 0.03) 1px, transparent 1px);
  background-size: 60px 60px;
  mask-image: radial-gradient(ellipse 80% 50% at 50% 50%, black 40%, transparent 100%);
  -webkit-mask-image: radial-gradient(ellipse 80% 50% at 50% 50%, black 40%, transparent 100%);
}
